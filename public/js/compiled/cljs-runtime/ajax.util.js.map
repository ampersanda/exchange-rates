{"version":3,"file":"ajax.util.js","sources":["ajax/util.cljc"],"mappings":";;;AAQA,wBAAA,xBAAMU,wDAAaL;AAAnB,AAAA;iBAGW,6CAAKA,9DADd,MAAO,KAAAI;;AAGT,6BAAA,7BAAMT,kEAA0BC;AAAhC,AACE,IAAAK,mBAAI,6CAAA,7CAACC,oCAAwBN;AAA7B,AAAA,oBAAAK;AAAAA;;AAAA;;;AAEF,2BAAA,3BAAME,8DAAgBN;AAAtB,AAAA;AAMYA;;AAMZ,2BAAA,3BAAMC,8DAAUC;AAAhB,AAAA;AAEE,SAAA,CAAA,sBAAA,WAAA,xBAAQA,cAAAA","names":["ajax.util/get-content-type","response","to-str","ajax.util/success?","status","args","or__3949__auto__","ajax.protocols/-get-response-header","ajax.util/to-utf8-writer","js/Error","ajax.util/throw-error"],"sourcesContent":["(ns ajax.util\n  \"Short utility functions. A lot of these only exist because the \n   cross platform implementation is annoying.\"\n   (:require [ajax.protocols :as pr])\n   #? (:clj\n       (:import [java.io OutputStreamWriter]\n                [java.lang String])))\n\n(defn throw-error [args]\n  \"Throws an error.\"\n  (throw (#?(:clj Exception. :cljs js/Error.)\n           (str args))))\n\n(defn get-content-type ^String [response]\n  (or (pr/-get-response-header response \"Content-Type\") \"\"))\n\n(defn to-utf8-writer [to-str]\n  \"Takes a function that converts to a string and transforms it\n   into a function that converts to an object that will write\n   UTF-8 to the wire. Note that this is the identity function\n   for JavaScript because the underlying implementations take\n   a string.\"\n  #? (:cljs to-str\n      :clj (fn write-utf8 [stream params]\n             (doto (OutputStreamWriter. stream)\n               (.write ^String (to-str params))\n               (.flush)))))\n\n(defn success? [status]\n  \"Indicates whether an HTTP status code is considered successful.\"\n  (<= 200 status 299))\n"]}